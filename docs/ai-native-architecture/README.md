# AI 原生架构规划文档

> **文档版本**: v5.0  
> **创建日期**: 2024-12-28  
> **文档性质**: 战略规划文档  
> **核心理念**: 从「带有 AI 功能的传统工具」升级为「以 AI 为核心的原生应用」

---

## 文档索引

本目录包含 dhs-atlas AI 原生架构的完整规划文档，按模块拆分如下：

### 核心规划

| 文档 | 说明 | 阅读优先级 |
|------|------|-----------|
| [01-现状诊断与核心理念](./01-现状诊断与核心理念.md) | 问题诊断、统一AI助手、工具/工作流调用化、IDE化设计、人机双轨 | ⭐⭐⭐ |
| [02-实时交互原则](./02-实时交互原则.md) | 真实交互、禁止表演、实时反馈机制、可中断性 | ⭐⭐⭐ |
| [03-体验设计](./03-体验设计.md) | IDE化布局、命令面板、对话流+画布、AI能力工具栏、预判指令 | ⭐⭐⭐ |

### 技术架构

| 文档 | 说明 | 阅读优先级 |
|------|------|-----------|
| [04-架构概览](./04-架构概览.md) | 整体架构、数据流、关键组件、系统关系、成功指标 | ⭐⭐⭐ |
| [05-工程架构-协议与包结构](./05-工程架构-协议与包结构.md) | Tool/UI Protocol、交互原语、Workflow状态机、多角色系统 | ⭐⭐⭐ |

### 实施指南

| 文档 | 说明 | 阅读优先级 |
|------|------|-----------|
| [06-MVP验证与实施路线](./06-MVP验证与实施路线.md) | 最小闭环验证、验证场景、交互流程、实施阶段 | ⭐⭐ |
| [07-风险与防护机制](./07-风险与防护机制.md) | Agent透明化、决策分级、Command统一层 | ⭐⭐ |

### 原则与红线

| 文档 | 说明 | 阅读优先级 |
|------|------|-----------|
| [08-核心原则与红线](./08-核心原则与红线.md) | 交互/技术/设计原则、架构红线（不可违反） | ⭐⭐⭐ |

### 审计与进化

| 文档 | 说明 | 阅读优先级 |
|------|------|-----------|
| [09-架构审计与改进方案](./09-架构审计与改进方案.md) | 首席架构师审计、风险识别、BYOK/Event Log/连接池改进 | ⭐⭐ |
| [10-UIUX进化设计规范](./10-UIUX进化设计规范.md) | 顶级UI/UX审计、呼吸式侧边栏、意图光标、色彩体系 | ⭐⭐ |

### 附录

| 文档 | 说明 | 阅读优先级 |
|------|------|-----------|
| [附录](./附录.md) | 术语定义、与传统后台对比、参考设计 | ⭐ |

---

## 快速导航

### 我要了解...

| 如果你想了解 | 请阅读 |
|-------------|--------|
| 为什么要做 AI 原生架构 | [01-现状诊断与核心理念](./01-现状诊断与核心理念.md) |
| 系统整体是怎么设计的 | [03-体验设计](./03-体验设计.md) |
| 工程上怎么实现 | [05-工程架构-协议与包结构](./05-工程架构-协议与包结构.md) |
| 有哪些不能违反的规则 | [08-核心原则与红线](./08-核心原则与红线.md) |
| 如何开始实施 | [06-MVP验证与实施路线](./06-MVP验证与实施路线.md) |

### 关键概念速查

| 概念 | 定义 | 文档位置 |
|------|------|---------|
| **人机同轨** | 人和AI共享同一套Tool/Workflow接口 | [01](./01-现状诊断与核心理念.md) |
| **Tool Protocol** | AI调用后端能力的协议规范 | [05](./05-工程架构-协议与包结构.md) |
| **UI Protocol** | AI请求渲染组件的协议规范 | [05](./05-工程架构-协议与包结构.md) |
| **8个交互原语** | AiForm/AiPicker/AiList/AiDetails/AiModalConfirm/AiReviewPanel/AiStepper/AiConsole | [05](./05-工程架构-协议与包结构.md) |
| **决策分级(L1-L4)** | 根据任务影响程度决定自动化程度 | [07](./07-风险与防护机制.md) |
| **Interaction Orchestrator** | UI渲染的最终裁决者 | [05](./05-工程架构-协议与包结构.md) |

---

## 架构红线（不可违反）

> 以下两条是"防止架构退化"的保险丝

### 红线 1：Interaction Orchestrator 拥有 UI 最终裁决权

```
AI（任何角色）永远不能直接决定 UI 的呈现方式，只能提出请求。
```

### 红线 2：预判指令默认需人确认

```
任何 Predicted Action，默认必须是"需人确认"的。
绝对禁止：AI 看你可能要做 → 就帮你做了。
```

---

## 版本历史

| 版本 | 日期 | 变更 |
|------|------|------|
| v1.0 | 2024-12-28 | 初始版本，包含核心理念 |
| v2.0 | 2024-12-28 | 增加三大风险防护机制、最小闭环验证方案 |
| v3.0 | 2024-12-28 | 架构定稿：Tool/UI Protocol、8个交互原语、Workflow状态机 |
| v3.1 | 2024-12-28 | 多角色系统：三层角色设计、Role Registry |
| v3.2 | 2024-12-28 | 架构红线封顶 |
| v4.0 | 2024-12-28 | 架构审计与改进：BYOK、Event Log冷热分离、D1连接池 |
| v5.0 | 2024-12-28 | UI/UX进化设计：呼吸式侧边栏、意图光标、色彩体系、感知-反馈环 |

---

## 相关文档

- [总体架构设计](../architecture/总体架构设计.md)
- [租户隔离三阶段路线图](../architecture/dhs-atlas%20租户隔离三阶段路线图.md)
- [领域划分与边界定义](../architecture/dhs-atlas%20领域划分与边界定义.md)
- [开发伦理与系统操作宪章](../开发伦理与系统操作宪章-最高指示.md)

