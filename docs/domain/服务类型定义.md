# dhs-atlas 服务类型定义（Service Types）

> **版本**: v1.0  
> **创建日期**: 2025-12-28  
> **文档性质**: 领域架构文档  
> **相关文档**: [服务抽象模型](./服务抽象模型.md) · [服务流程模板](./服务流程模板.md)

---

## 一、核心概念

### 1.1 Service Type 的定位

> **Service Type 是语义层，不是逻辑层。**

```
┌─────────────────────────────────────────────────────────────────────┐
│                    Service Type 定位                                 │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│   Service Type 只用于：                                              │
│   ┌─────────────────────────────────────────────────────────────┐   │
│   │  1. AI 角色选择        → 决定用哪个领域专家                    │   │
│   │  2. 默认流程推荐       → 推荐合适的 Workflow Template          │   │
│   │  3. UI 文案适配        → 展示行业相关的术语和说明               │   │
│   │  4. 报表分类          → 按服务类型统计和分析                   │   │
│   └─────────────────────────────────────────────────────────────┘   │
│                                                                     │
│   Service Type 不参与：                                              │
│   ┌─────────────────────────────────────────────────────────────┐   │
│   │  ❌ 定价计算           → 由 Pricing Model 决定                 │   │
│   │  ❌ 交付流程           → 由 Delivery Model + Workflow 决定     │   │
│   │  ❌ 权限控制           → 由 Role / Policy 决定                 │   │
│   │  ❌ 业务逻辑判断        → 核心逻辑与类型无关                    │   │
│   └─────────────────────────────────────────────────────────────┘   │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

### 1.2 类型编码规则

```
{category}.{subcategory}

category    = 一级分类（领域）
subcategory = 二级分类（具体类型）

示例：
- creative.visual     → 创意领域 / 视觉创意
- consulting.strategy → 咨询领域 / 战略咨询
- tech.development    → 技术领域 / 技术开发
```

---

## 二、服务类型枚举

### 2.1 完整类型定义

```typescript
/**
 * 服务类型枚举
 * 
 * 编码规则：{category}.{subcategory}
 * 
 * ⚠️ 注意：这是语义层定义，不参与核心计算逻辑
 */
export type ServiceType =
  // ═══════════════════════════════════════════════════════════════════
  // 创意设计类 (creative)
  // ═══════════════════════════════════════════════════════════════════
  | 'creative.visual'           // 视觉创意（平面设计、插画、图标等）
  | 'creative.branding'         // 品牌设计（Logo、VI、品牌策略等）
  | 'creative.motion'           // 动态设计（动画、特效、MG 等）
  | 'creative.ux'               // 体验设计（UI/UX、交互、原型等）
  | 'creative.space'            // 空间设计（室内、展览、环境等）
  | 'creative.industrial'       // 工业设计（产品、包装等）
  
  // ═══════════════════════════════════════════════════════════════════
  // 内容生产类 (content)
  // ═══════════════════════════════════════════════════════════════════
  | 'content.copywriting'       // 文案撰写（广告、品牌、活动文案等）
  | 'content.video'             // 视频制作（拍摄、剪辑、后期等）
  | 'content.audio'             // 音频制作（配音、音效、音乐等）
  | 'content.photography'       // 摄影服务（商业、人像、产品等）
  | 'content.translation'       // 翻译服务（文档、本地化等）
  | 'content.editing'           // 编辑服务（校对、审稿等）
  
  // ═══════════════════════════════════════════════════════════════════
  // 咨询顾问类 (consulting)
  // ═══════════════════════════════════════════════════════════════════
  | 'consulting.strategy'       // 战略咨询（企业战略、发展规划等）
  | 'consulting.management'     // 管理咨询（组织、流程、绩效等）
  | 'consulting.marketing'      // 营销咨询（品牌、市场、增长等）
  | 'consulting.digital'        // 数字化咨询（转型、技术规划等）
  | 'consulting.hr'             // 人力咨询（招聘、培训、薪酬等）
  | 'consulting.financial'      // 财务咨询（财务规划、融资等）
  
  // ═══════════════════════════════════════════════════════════════════
  // 技术服务类 (tech)
  // ═══════════════════════════════════════════════════════════════════
  | 'tech.development'          // 技术开发（应用开发、系统开发等）
  | 'tech.implementation'       // 系统实施（部署、集成、配置等）
  | 'tech.support'              // 技术支持（运维、故障处理等）
  | 'tech.data'                 // 数据服务（分析、治理、BI 等）
  | 'tech.security'             // 安全服务（评估、加固、应急等）
  | 'tech.cloud'                // 云服务（架构、迁移、优化等）
  
  // ═══════════════════════════════════════════════════════════════════
  // 商务服务类 (business)
  // ═══════════════════════════════════════════════════════════════════
  | 'business.planning'         // 商业策划（商业计划、项目策划等）
  | 'business.legal'            // 法务服务（合同、知识产权等）
  | 'business.accounting'       // 会计服务（记账、审计等）
  | 'business.tax'              // 税务服务（税务筹划、申报等）
  | 'business.registration'     // 工商服务（注册、变更等）
  | 'business.investment'       // 投资服务（融资、并购等）
  
  // ═══════════════════════════════════════════════════════════════════
  // 教育培训类 (education)
  // ═══════════════════════════════════════════════════════════════════
  | 'education.training'        // 企业培训（内训、工作坊等）
  | 'education.coaching'        // 教练辅导（高管教练、职业辅导等）
  | 'education.course'          // 课程开发（课件、教材等）
  | 'education.assessment'      // 人才测评（能力评估、360 等）
  
  // ═══════════════════════════════════════════════════════════════════
  // 活动会展类 (event)
  // ═══════════════════════════════════════════════════════════════════
  | 'event.planning'            // 活动策划（年会、发布会等）
  | 'event.execution'           // 活动执行（现场管理、搭建等）
  | 'event.exhibition'          // 会展服务（展会、博览会等）
  | 'event.conference'          // 会议服务（会议组织、接待等）
  
  // ═══════════════════════════════════════════════════════════════════
  // 其他 (other)
  // ═══════════════════════════════════════════════════════════════════
  | 'other.general'             // 通用服务（未分类）
  | 'other.custom';             // 自定义服务
```

### 2.2 类型分类结构

```typescript
/**
 * 服务类型分类
 */
export type ServiceCategory =
  | 'creative'    // 创意设计
  | 'content'     // 内容生产
  | 'consulting'  // 咨询顾问
  | 'tech'        // 技术服务
  | 'business'    // 商务服务
  | 'education'   // 教育培训
  | 'event'       // 活动会展
  | 'other';      // 其他

/**
 * 分类元数据
 */
export const SERVICE_CATEGORIES: Record<ServiceCategory, {
  displayName: string;
  description: string;
  icon: string;
  sortOrder: number;
}> = {
  creative: {
    displayName: '创意设计',
    description: '视觉、品牌、动态、体验等创意设计服务',
    icon: 'Palette',
    sortOrder: 1,
  },
  content: {
    displayName: '内容生产',
    description: '文案、视频、音频、摄影等内容创作服务',
    icon: 'FileText',
    sortOrder: 2,
  },
  consulting: {
    displayName: '咨询顾问',
    description: '战略、管理、营销、数字化等咨询服务',
    icon: 'Lightbulb',
    sortOrder: 3,
  },
  tech: {
    displayName: '技术服务',
    description: '开发、实施、支持、数据等技术服务',
    icon: 'Code',
    sortOrder: 4,
  },
  business: {
    displayName: '商务服务',
    description: '法务、财税、工商、投资等商务服务',
    icon: 'Briefcase',
    sortOrder: 5,
  },
  education: {
    displayName: '教育培训',
    description: '培训、教练、课程、测评等教育服务',
    icon: 'GraduationCap',
    sortOrder: 6,
  },
  event: {
    displayName: '活动会展',
    description: '活动策划、执行、会展、会议等服务',
    icon: 'Calendar',
    sortOrder: 7,
  },
  other: {
    displayName: '其他',
    description: '未分类或自定义服务',
    icon: 'MoreHorizontal',
    sortOrder: 99,
  },
};
```

---

## 三、类型元数据

### 3.1 完整元数据定义

```typescript
/**
 * 服务类型元数据
 */
export interface ServiceTypeMetadata {
  // 类型编码
  typeCode: ServiceType;
  
  // 展示信息
  displayName: string;
  shortName: string;
  description: string;
  icon: string;
  
  // 分类
  category: ServiceCategory;
  
  // AI 相关
  defaultAiRole: string;
  aiPromptHints: string[];
  
  // 默认配置
  defaultWorkflowTemplateId?: string;
  defaultPricingModelType: PricingModelType;
  defaultDeliveryModelType: DeliveryModelType;
  
  // 推荐配置
  suggestedTags: string[];
  suggestedRoles: string[];
  
  // UI 相关
  colorTheme: string;
  
  // 状态
  enabled: boolean;
  sortOrder: number;
}
```

### 3.2 元数据配置表

```typescript
export const SERVICE_TYPE_METADATA: Record<ServiceType, ServiceTypeMetadata> = {
  // ═══════════════════════════════════════════════════════════════════
  // 创意设计类
  // ═══════════════════════════════════════════════════════════════════
  'creative.visual': {
    typeCode: 'creative.visual',
    displayName: '视觉创意设计',
    shortName: '视觉设计',
    description: '平面设计、插画、图标、海报、宣传物料等视觉创意服务',
    icon: 'Palette',
    category: 'creative',
    
    defaultAiRole: 'design_expert',
    aiPromptHints: [
      '我是视觉设计专家，擅长平面设计、插画创作',
      '可以帮助分析设计需求、提供创意方向建议',
      '熟悉设计规范、输出标准、文件格式要求',
    ],
    
    defaultWorkflowTemplateId: 'wf-visual-design',
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['平面', '插画', '海报', '宣传', 'VI'],
    suggestedRoles: ['designer', 'art_director'],
    
    colorTheme: 'purple',
    enabled: true,
    sortOrder: 1,
  },
  
  'creative.branding': {
    typeCode: 'creative.branding',
    displayName: '品牌设计',
    shortName: '品牌',
    description: 'Logo设计、VI系统、品牌策略、品牌升级等品牌建设服务',
    icon: 'Award',
    category: 'creative',
    
    defaultAiRole: 'brand_expert',
    aiPromptHints: [
      '我是品牌设计专家，擅长品牌战略与视觉系统',
      '可以帮助梳理品牌定位、提供VI规范建议',
      '熟悉品牌建设全流程、品牌手册制作',
    ],
    
    defaultWorkflowTemplateId: 'wf-branding',
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['Logo', 'VI', '品牌', '形象', '升级'],
    suggestedRoles: ['brand_designer', 'art_director', 'strategist'],
    
    colorTheme: 'orange',
    enabled: true,
    sortOrder: 2,
  },
  
  'creative.motion': {
    typeCode: 'creative.motion',
    displayName: '动态设计',
    shortName: '动效',
    description: '动画制作、MG动画、特效、片头、UI动效等动态视觉服务',
    icon: 'Play',
    category: 'creative',
    
    defaultAiRole: 'motion_expert',
    aiPromptHints: [
      '我是动态设计专家，擅长动画和特效制作',
      '可以帮助规划动画脚本、提供动效方案',
      '熟悉各类动画软件、输出规格要求',
    ],
    
    defaultWorkflowTemplateId: 'wf-motion-design',
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['动画', 'MG', '特效', '片头', '动效'],
    suggestedRoles: ['motion_designer', 'animator'],
    
    colorTheme: 'cyan',
    enabled: true,
    sortOrder: 3,
  },
  
  'creative.ux': {
    typeCode: 'creative.ux',
    displayName: '体验设计',
    shortName: 'UX',
    description: 'UI/UX设计、交互设计、原型设计、用户研究等数字产品设计服务',
    icon: 'Smartphone',
    category: 'creative',
    
    defaultAiRole: 'ux_expert',
    aiPromptHints: [
      '我是用户体验设计专家，擅长UI/UX和交互设计',
      '可以帮助分析用户需求、设计产品原型',
      '熟悉设计系统、可用性测试、用户研究方法',
    ],
    
    defaultWorkflowTemplateId: 'wf-ux-design',
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['UI', 'UX', '交互', '原型', 'App'],
    suggestedRoles: ['ux_designer', 'ui_designer', 'researcher'],
    
    colorTheme: 'blue',
    enabled: true,
    sortOrder: 4,
  },
  
  'creative.space': {
    typeCode: 'creative.space',
    displayName: '空间设计',
    shortName: '空间',
    description: '室内设计、展览设计、环境设计、导视系统等空间环境设计服务',
    icon: 'Home',
    category: 'creative',
    
    defaultAiRole: 'space_expert',
    aiPromptHints: [
      '我是空间设计专家，擅长室内和环境设计',
      '可以帮助规划空间布局、提供设计方案',
      '熟悉工程对接、材料选型、施工配合',
    ],
    
    defaultWorkflowTemplateId: 'wf-space-design',
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['室内', '展览', '环境', '导视', '空间'],
    suggestedRoles: ['space_designer', 'interior_designer'],
    
    colorTheme: 'green',
    enabled: true,
    sortOrder: 5,
  },
  
  'creative.industrial': {
    typeCode: 'creative.industrial',
    displayName: '工业设计',
    shortName: '产品',
    description: '产品设计、包装设计、结构设计等工业产品设计服务',
    icon: 'Package',
    category: 'creative',
    
    defaultAiRole: 'industrial_expert',
    aiPromptHints: [
      '我是工业设计专家，擅长产品和包装设计',
      '可以帮助分析产品需求、提供设计方案',
      '熟悉工程化、量产、供应链对接',
    ],
    
    defaultWorkflowTemplateId: 'wf-industrial-design',
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['产品', '包装', '结构', '外观', '工业'],
    suggestedRoles: ['industrial_designer', 'structural_engineer'],
    
    colorTheme: 'gray',
    enabled: true,
    sortOrder: 6,
  },
  
  // ═══════════════════════════════════════════════════════════════════
  // 内容生产类
  // ═══════════════════════════════════════════════════════════════════
  'content.copywriting': {
    typeCode: 'content.copywriting',
    displayName: '文案撰写',
    shortName: '文案',
    description: '广告文案、品牌文案、活动文案、营销文案等文字创作服务',
    icon: 'PenTool',
    category: 'content',
    
    defaultAiRole: 'content_expert',
    aiPromptHints: [
      '我是文案创作专家，擅长各类商业文案撰写',
      '可以帮助提炼卖点、打造品牌故事',
      '熟悉各平台内容规范、SEO优化',
    ],
    
    defaultWorkflowTemplateId: 'wf-copywriting',
    defaultPricingModelType: 'unit',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['文案', '广告', '品牌', '营销', '内容'],
    suggestedRoles: ['copywriter', 'content_strategist'],
    
    colorTheme: 'amber',
    enabled: true,
    sortOrder: 1,
  },
  
  'content.video': {
    typeCode: 'content.video',
    displayName: '视频制作',
    shortName: '视频',
    description: '视频拍摄、剪辑、后期、特效、调色等视频制作服务',
    icon: 'Video',
    category: 'content',
    
    defaultAiRole: 'video_expert',
    aiPromptHints: [
      '我是视频制作专家，擅长拍摄和后期制作',
      '可以帮助规划脚本、提供拍摄方案',
      '熟悉各平台视频规格、后期工作流',
    ],
    
    defaultWorkflowTemplateId: 'wf-video-production',
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['视频', '拍摄', '剪辑', '后期', '短视频'],
    suggestedRoles: ['videographer', 'editor', 'director'],
    
    colorTheme: 'red',
    enabled: true,
    sortOrder: 2,
  },
  
  'content.audio': {
    typeCode: 'content.audio',
    displayName: '音频制作',
    shortName: '音频',
    description: '配音、音效、音乐、播客、有声内容等音频制作服务',
    icon: 'Mic',
    category: 'content',
    
    defaultAiRole: 'audio_expert',
    aiPromptHints: [
      '我是音频制作专家，擅长配音和音效设计',
      '可以帮助规划音频方案、提供配音建议',
      '熟悉音频格式、录制标准、后期处理',
    ],
    
    defaultWorkflowTemplateId: 'wf-audio-production',
    defaultPricingModelType: 'unit',
    defaultDeliveryModelType: 'one_time',
    
    suggestedTags: ['配音', '音效', '音乐', '播客', '有声'],
    suggestedRoles: ['voice_artist', 'sound_designer', 'audio_engineer'],
    
    colorTheme: 'violet',
    enabled: true,
    sortOrder: 3,
  },
  
  'content.photography': {
    typeCode: 'content.photography',
    displayName: '摄影服务',
    shortName: '摄影',
    description: '商业摄影、人像摄影、产品摄影、活动摄影等摄影服务',
    icon: 'Camera',
    category: 'content',
    
    defaultAiRole: 'photography_expert',
    aiPromptHints: [
      '我是摄影专家，擅长各类商业摄影',
      '可以帮助规划拍摄方案、提供场景建议',
      '熟悉布光、后期修图、输出标准',
    ],
    
    defaultWorkflowTemplateId: 'wf-photography',
    defaultPricingModelType: 'fixed',
    defaultDeliveryModelType: 'one_time',
    
    suggestedTags: ['摄影', '拍摄', '产品', '人像', '商业'],
    suggestedRoles: ['photographer', 'retoucher'],
    
    colorTheme: 'stone',
    enabled: true,
    sortOrder: 4,
  },
  
  'content.translation': {
    typeCode: 'content.translation',
    displayName: '翻译服务',
    shortName: '翻译',
    description: '文档翻译、本地化、口译、字幕翻译等语言服务',
    icon: 'Languages',
    category: 'content',
    
    defaultAiRole: 'translation_expert',
    aiPromptHints: [
      '我是翻译专家，擅长多语种翻译和本地化',
      '可以帮助评估翻译需求、提供语言建议',
      '熟悉专业术语、行业规范、质量标准',
    ],
    
    defaultWorkflowTemplateId: 'wf-translation',
    defaultPricingModelType: 'unit',
    defaultDeliveryModelType: 'one_time',
    
    suggestedTags: ['翻译', '本地化', '口译', '字幕', '多语言'],
    suggestedRoles: ['translator', 'localizer', 'proofreader'],
    
    colorTheme: 'teal',
    enabled: true,
    sortOrder: 5,
  },
  
  'content.editing': {
    typeCode: 'content.editing',
    displayName: '编辑服务',
    shortName: '编辑',
    description: '校对、审稿、编辑、排版等内容编辑服务',
    icon: 'Edit',
    category: 'content',
    
    defaultAiRole: 'editing_expert',
    aiPromptHints: [
      '我是编辑专家，擅长文字校对和内容审核',
      '可以帮助提升内容质量、优化表达',
      '熟悉出版规范、语言标准、排版要求',
    ],
    
    defaultWorkflowTemplateId: 'wf-editing',
    defaultPricingModelType: 'unit',
    defaultDeliveryModelType: 'one_time',
    
    suggestedTags: ['校对', '审稿', '编辑', '排版', '出版'],
    suggestedRoles: ['editor', 'proofreader'],
    
    colorTheme: 'neutral',
    enabled: true,
    sortOrder: 6,
  },
  
  // ═══════════════════════════════════════════════════════════════════
  // 咨询顾问类
  // ═══════════════════════════════════════════════════════════════════
  'consulting.strategy': {
    typeCode: 'consulting.strategy',
    displayName: '战略咨询',
    shortName: '战略',
    description: '企业战略、发展规划、竞争分析、战略落地等战略咨询服务',
    icon: 'Target',
    category: 'consulting',
    
    defaultAiRole: 'strategy_consultant',
    aiPromptHints: [
      '我是战略咨询专家，擅长企业战略规划',
      '可以帮助分析市场环境、制定发展战略',
      '熟悉战略工具、行业分析、落地执行',
    ],
    
    defaultWorkflowTemplateId: 'wf-strategy-consulting',
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['战略', '规划', '分析', '增长', '转型'],
    suggestedRoles: ['senior_consultant', 'consultant', 'analyst'],
    
    colorTheme: 'indigo',
    enabled: true,
    sortOrder: 1,
  },
  
  'consulting.management': {
    typeCode: 'consulting.management',
    displayName: '管理咨询',
    shortName: '管理',
    description: '组织管理、流程优化、绩效管理、变革管理等管理咨询服务',
    icon: 'Users',
    category: 'consulting',
    
    defaultAiRole: 'management_consultant',
    aiPromptHints: [
      '我是管理咨询专家，擅长组织和流程优化',
      '可以帮助诊断管理问题、设计解决方案',
      '熟悉组织设计、绩效管理、变革管理',
    ],
    
    defaultWorkflowTemplateId: 'wf-management-consulting',
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['管理', '组织', '流程', '绩效', '变革'],
    suggestedRoles: ['senior_consultant', 'consultant', 'project_manager'],
    
    colorTheme: 'slate',
    enabled: true,
    sortOrder: 2,
  },
  
  'consulting.marketing': {
    typeCode: 'consulting.marketing',
    displayName: '营销咨询',
    shortName: '营销',
    description: '品牌策略、市场分析、营销规划、增长策略等营销咨询服务',
    icon: 'TrendingUp',
    category: 'consulting',
    
    defaultAiRole: 'marketing_consultant',
    aiPromptHints: [
      '我是营销咨询专家，擅长品牌和市场策略',
      '可以帮助分析市场机会、制定营销计划',
      '熟悉数字营销、品牌建设、增长策略',
    ],
    
    defaultWorkflowTemplateId: 'wf-marketing-consulting',
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['营销', '品牌', '市场', '增长', '策略'],
    suggestedRoles: ['marketing_consultant', 'brand_strategist'],
    
    colorTheme: 'pink',
    enabled: true,
    sortOrder: 3,
  },
  
  'consulting.digital': {
    typeCode: 'consulting.digital',
    displayName: '数字化咨询',
    shortName: '数字化',
    description: '数字化转型、技术规划、IT架构、数字化运营等咨询服务',
    icon: 'Cpu',
    category: 'consulting',
    
    defaultAiRole: 'digital_consultant',
    aiPromptHints: [
      '我是数字化咨询专家，擅长企业数字化转型',
      '可以帮助评估数字化成熟度、制定转型路线',
      '熟悉IT架构、技术选型、落地实施',
    ],
    
    defaultWorkflowTemplateId: 'wf-digital-consulting',
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['数字化', '转型', 'IT', '架构', '技术'],
    suggestedRoles: ['digital_consultant', 'solution_architect'],
    
    colorTheme: 'sky',
    enabled: true,
    sortOrder: 4,
  },
  
  'consulting.hr': {
    typeCode: 'consulting.hr',
    displayName: '人力咨询',
    shortName: '人力',
    description: '招聘优化、培训体系、薪酬设计、人才发展等人力资源咨询服务',
    icon: 'UserPlus',
    category: 'consulting',
    
    defaultAiRole: 'hr_consultant',
    aiPromptHints: [
      '我是人力咨询专家，擅长人力资源管理',
      '可以帮助优化招聘流程、设计培训体系',
      '熟悉薪酬设计、人才发展、组织发展',
    ],
    
    defaultWorkflowTemplateId: 'wf-hr-consulting',
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['人力', '招聘', '培训', '薪酬', '人才'],
    suggestedRoles: ['hr_consultant', 'talent_consultant'],
    
    colorTheme: 'emerald',
    enabled: true,
    sortOrder: 5,
  },
  
  'consulting.financial': {
    typeCode: 'consulting.financial',
    displayName: '财务咨询',
    shortName: '财务',
    description: '财务规划、融资顾问、成本管理、财务管控等财务咨询服务',
    icon: 'DollarSign',
    category: 'consulting',
    
    defaultAiRole: 'financial_consultant',
    aiPromptHints: [
      '我是财务咨询专家，擅长企业财务管理',
      '可以帮助进行财务分析、制定财务规划',
      '熟悉融资策略、成本管理、内控建设',
    ],
    
    defaultWorkflowTemplateId: 'wf-financial-consulting',
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['财务', '融资', '成本', '预算', '管控'],
    suggestedRoles: ['financial_consultant', 'cfo_advisor'],
    
    colorTheme: 'lime',
    enabled: true,
    sortOrder: 6,
  },
  
  // ═══════════════════════════════════════════════════════════════════
  // 技术服务类
  // ═══════════════════════════════════════════════════════════════════
  'tech.development': {
    typeCode: 'tech.development',
    displayName: '技术开发',
    shortName: '开发',
    description: '应用开发、系统开发、小程序开发、定制开发等技术开发服务',
    icon: 'Code',
    category: 'tech',
    
    defaultAiRole: 'tech_expert',
    aiPromptHints: [
      '我是技术开发专家，擅长应用和系统开发',
      '可以帮助评估技术方案、规划开发计划',
      '熟悉主流技术栈、开发流程、质量保证',
    ],
    
    defaultWorkflowTemplateId: 'wf-tech-development',
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['开发', '系统', 'App', '小程序', '定制'],
    suggestedRoles: ['tech_lead', 'developer', 'architect'],
    
    colorTheme: 'zinc',
    enabled: true,
    sortOrder: 1,
  },
  
  'tech.implementation': {
    typeCode: 'tech.implementation',
    displayName: '系统实施',
    shortName: '实施',
    description: '系统部署、集成配置、数据迁移、上线支持等实施服务',
    icon: 'Server',
    category: 'tech',
    
    defaultAiRole: 'implementation_expert',
    aiPromptHints: [
      '我是系统实施专家，擅长系统部署和集成',
      '可以帮助规划实施方案、制定迁移计划',
      '熟悉系统集成、数据迁移、上线保障',
    ],
    
    defaultWorkflowTemplateId: 'wf-implementation',
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['实施', '部署', '集成', '迁移', '上线'],
    suggestedRoles: ['implementation_consultant', 'integration_engineer'],
    
    colorTheme: 'cyan',
    enabled: true,
    sortOrder: 2,
  },
  
  'tech.support': {
    typeCode: 'tech.support',
    displayName: '技术支持',
    shortName: '支持',
    description: '运维服务、故障处理、技术咨询、系统优化等技术支持服务',
    icon: 'Wrench',
    category: 'tech',
    
    defaultAiRole: 'support_expert',
    aiPromptHints: [
      '我是技术支持专家，擅长系统运维和故障处理',
      '可以帮助诊断问题、提供解决方案',
      '熟悉监控告警、故障排查、性能优化',
    ],
    
    defaultWorkflowTemplateId: 'wf-tech-support',
    defaultPricingModelType: 'subscription',
    defaultDeliveryModelType: 'continuous',
    
    suggestedTags: ['运维', '支持', '故障', '监控', '优化'],
    suggestedRoles: ['support_engineer', 'sre'],
    
    colorTheme: 'orange',
    enabled: true,
    sortOrder: 3,
  },
  
  'tech.data': {
    typeCode: 'tech.data',
    displayName: '数据服务',
    shortName: '数据',
    description: '数据分析、数据治理、BI报表、数据中台等数据相关服务',
    icon: 'BarChart2',
    category: 'tech',
    
    defaultAiRole: 'data_expert',
    aiPromptHints: [
      '我是数据服务专家，擅长数据分析和治理',
      '可以帮助规划数据架构、设计分析方案',
      '熟悉数据建模、ETL、BI工具、数据治理',
    ],
    
    defaultWorkflowTemplateId: 'wf-data-service',
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['数据', '分析', 'BI', '报表', '治理'],
    suggestedRoles: ['data_analyst', 'data_engineer', 'bi_developer'],
    
    colorTheme: 'fuchsia',
    enabled: true,
    sortOrder: 4,
  },
  
  'tech.security': {
    typeCode: 'tech.security',
    displayName: '安全服务',
    shortName: '安全',
    description: '安全评估、渗透测试、安全加固、应急响应等安全服务',
    icon: 'Shield',
    category: 'tech',
    
    defaultAiRole: 'security_expert',
    aiPromptHints: [
      '我是安全服务专家，擅长安全评估和加固',
      '可以帮助进行风险评估、制定安全策略',
      '熟悉渗透测试、漏洞管理、应急响应',
    ],
    
    defaultWorkflowTemplateId: 'wf-security-service',
    defaultPricingModelType: 'fixed',
    defaultDeliveryModelType: 'one_time',
    
    suggestedTags: ['安全', '评估', '渗透', '加固', '应急'],
    suggestedRoles: ['security_consultant', 'penetration_tester'],
    
    colorTheme: 'red',
    enabled: true,
    sortOrder: 5,
  },
  
  'tech.cloud': {
    typeCode: 'tech.cloud',
    displayName: '云服务',
    shortName: '云',
    description: '云架构设计、云迁移、云优化、多云管理等云计算服务',
    icon: 'Cloud',
    category: 'tech',
    
    defaultAiRole: 'cloud_expert',
    aiPromptHints: [
      '我是云服务专家，擅长云架构和迁移',
      '可以帮助规划云架构、设计迁移方案',
      '熟悉主流云平台、成本优化、云原生技术',
    ],
    
    defaultWorkflowTemplateId: 'wf-cloud-service',
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    
    suggestedTags: ['云', '迁移', '架构', '优化', '云原生'],
    suggestedRoles: ['cloud_architect', 'devops_engineer'],
    
    colorTheme: 'sky',
    enabled: true,
    sortOrder: 6,
  },
  
  // ═══════════════════════════════════════════════════════════════════
  // 商务服务类（简化展示）
  // ═══════════════════════════════════════════════════════════════════
  'business.planning': {
    typeCode: 'business.planning',
    displayName: '商业策划',
    shortName: '策划',
    description: '商业计划书、项目策划、可行性研究等商业策划服务',
    icon: 'FileText',
    category: 'business',
    defaultAiRole: 'business_planner',
    aiPromptHints: ['我是商业策划专家'],
    defaultPricingModelType: 'fixed',
    defaultDeliveryModelType: 'one_time',
    suggestedTags: ['策划', '商业', '计划'],
    suggestedRoles: ['business_planner'],
    colorTheme: 'amber',
    enabled: true,
    sortOrder: 1,
  },
  
  'business.legal': {
    typeCode: 'business.legal',
    displayName: '法务服务',
    shortName: '法务',
    description: '合同审核、知识产权、法律顾问等法律服务',
    icon: 'Scale',
    category: 'business',
    defaultAiRole: 'legal_expert',
    aiPromptHints: ['我是法务专家'],
    defaultPricingModelType: 'hourly',
    defaultDeliveryModelType: 'on_demand',
    suggestedTags: ['法务', '合同', '知识产权'],
    suggestedRoles: ['legal_consultant'],
    colorTheme: 'stone',
    enabled: true,
    sortOrder: 2,
  },
  
  'business.accounting': {
    typeCode: 'business.accounting',
    displayName: '会计服务',
    shortName: '会计',
    description: '代理记账、财务报表、审计服务等会计服务',
    icon: 'Calculator',
    category: 'business',
    defaultAiRole: 'accounting_expert',
    aiPromptHints: ['我是会计服务专家'],
    defaultPricingModelType: 'subscription',
    defaultDeliveryModelType: 'continuous',
    suggestedTags: ['会计', '记账', '审计'],
    suggestedRoles: ['accountant'],
    colorTheme: 'green',
    enabled: true,
    sortOrder: 3,
  },
  
  'business.tax': {
    typeCode: 'business.tax',
    displayName: '税务服务',
    shortName: '税务',
    description: '税务筹划、纳税申报、税务顾问等税务服务',
    icon: 'Receipt',
    category: 'business',
    defaultAiRole: 'tax_expert',
    aiPromptHints: ['我是税务服务专家'],
    defaultPricingModelType: 'subscription',
    defaultDeliveryModelType: 'continuous',
    suggestedTags: ['税务', '筹划', '申报'],
    suggestedRoles: ['tax_consultant'],
    colorTheme: 'emerald',
    enabled: true,
    sortOrder: 4,
  },
  
  'business.registration': {
    typeCode: 'business.registration',
    displayName: '工商服务',
    shortName: '工商',
    description: '公司注册、变更、年检等工商服务',
    icon: 'Building2',
    category: 'business',
    defaultAiRole: 'registration_expert',
    aiPromptHints: ['我是工商服务专家'],
    defaultPricingModelType: 'fixed',
    defaultDeliveryModelType: 'one_time',
    suggestedTags: ['工商', '注册', '变更'],
    suggestedRoles: ['registration_agent'],
    colorTheme: 'blue',
    enabled: true,
    sortOrder: 5,
  },
  
  'business.investment': {
    typeCode: 'business.investment',
    displayName: '投资服务',
    shortName: '投资',
    description: '融资顾问、并购顾问、投资分析等投资服务',
    icon: 'TrendingUp',
    category: 'business',
    defaultAiRole: 'investment_expert',
    aiPromptHints: ['我是投资服务专家'],
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    suggestedTags: ['投资', '融资', '并购'],
    suggestedRoles: ['investment_banker'],
    colorTheme: 'violet',
    enabled: true,
    sortOrder: 6,
  },
  
  // ═══════════════════════════════════════════════════════════════════
  // 教育培训类（简化展示）
  // ═══════════════════════════════════════════════════════════════════
  'education.training': {
    typeCode: 'education.training',
    displayName: '企业培训',
    shortName: '培训',
    description: '企业内训、工作坊、培训项目等培训服务',
    icon: 'GraduationCap',
    category: 'education',
    defaultAiRole: 'training_expert',
    aiPromptHints: ['我是企业培训专家'],
    defaultPricingModelType: 'daily',
    defaultDeliveryModelType: 'one_time',
    suggestedTags: ['培训', '内训', '工作坊'],
    suggestedRoles: ['trainer'],
    colorTheme: 'indigo',
    enabled: true,
    sortOrder: 1,
  },
  
  'education.coaching': {
    typeCode: 'education.coaching',
    displayName: '教练辅导',
    shortName: '教练',
    description: '高管教练、职业辅导、领导力发展等教练服务',
    icon: 'Users',
    category: 'education',
    defaultAiRole: 'coaching_expert',
    aiPromptHints: ['我是教练辅导专家'],
    defaultPricingModelType: 'hourly',
    defaultDeliveryModelType: 'continuous',
    suggestedTags: ['教练', '辅导', '领导力'],
    suggestedRoles: ['executive_coach'],
    colorTheme: 'rose',
    enabled: true,
    sortOrder: 2,
  },
  
  'education.course': {
    typeCode: 'education.course',
    displayName: '课程开发',
    shortName: '课程',
    description: '课件开发、教材编写、在线课程制作等课程开发服务',
    icon: 'BookOpen',
    category: 'education',
    defaultAiRole: 'course_expert',
    aiPromptHints: ['我是课程开发专家'],
    defaultPricingModelType: 'milestone',
    defaultDeliveryModelType: 'phased',
    suggestedTags: ['课程', '课件', '教材'],
    suggestedRoles: ['instructional_designer'],
    colorTheme: 'teal',
    enabled: true,
    sortOrder: 3,
  },
  
  'education.assessment': {
    typeCode: 'education.assessment',
    displayName: '人才测评',
    shortName: '测评',
    description: '能力评估、360评估、人才盘点等测评服务',
    icon: 'ClipboardCheck',
    category: 'education',
    defaultAiRole: 'assessment_expert',
    aiPromptHints: ['我是人才测评专家'],
    defaultPricingModelType: 'unit',
    defaultDeliveryModelType: 'one_time',
    suggestedTags: ['测评', '评估', '盘点'],
    suggestedRoles: ['assessment_consultant'],
    colorTheme: 'cyan',
    enabled: true,
    sortOrder: 4,
  },
  
  // ═══════════════════════════════════════════════════════════════════
  // 活动会展类（简化展示）
  // ═══════════════════════════════════════════════════════════════════
  'event.planning': {
    typeCode: 'event.planning',
    displayName: '活动策划',
    shortName: '活动',
    description: '年会策划、发布会策划、活动方案等活动策划服务',
    icon: 'Calendar',
    category: 'event',
    defaultAiRole: 'event_planner',
    aiPromptHints: ['我是活动策划专家'],
    defaultPricingModelType: 'fixed',
    defaultDeliveryModelType: 'phased',
    suggestedTags: ['活动', '策划', '年会'],
    suggestedRoles: ['event_planner'],
    colorTheme: 'pink',
    enabled: true,
    sortOrder: 1,
  },
  
  'event.execution': {
    typeCode: 'event.execution',
    displayName: '活动执行',
    shortName: '执行',
    description: '现场管理、搭建布置、执行统筹等活动执行服务',
    icon: 'PlayCircle',
    category: 'event',
    defaultAiRole: 'event_executor',
    aiPromptHints: ['我是活动执行专家'],
    defaultPricingModelType: 'fixed',
    defaultDeliveryModelType: 'one_time',
    suggestedTags: ['执行', '现场', '搭建'],
    suggestedRoles: ['event_manager'],
    colorTheme: 'orange',
    enabled: true,
    sortOrder: 2,
  },
  
  'event.exhibition': {
    typeCode: 'event.exhibition',
    displayName: '会展服务',
    shortName: '会展',
    description: '展会参展、展台设计、展览服务等会展服务',
    icon: 'LayoutGrid',
    category: 'event',
    defaultAiRole: 'exhibition_expert',
    aiPromptHints: ['我是会展服务专家'],
    defaultPricingModelType: 'fixed',
    defaultDeliveryModelType: 'phased',
    suggestedTags: ['展会', '展台', '展览'],
    suggestedRoles: ['exhibition_designer'],
    colorTheme: 'purple',
    enabled: true,
    sortOrder: 3,
  },
  
  'event.conference': {
    typeCode: 'event.conference',
    displayName: '会议服务',
    shortName: '会议',
    description: '会议组织、接待服务、会议管理等会议服务',
    icon: 'MessageSquare',
    category: 'event',
    defaultAiRole: 'conference_expert',
    aiPromptHints: ['我是会议服务专家'],
    defaultPricingModelType: 'fixed',
    defaultDeliveryModelType: 'one_time',
    suggestedTags: ['会议', '接待', '组织'],
    suggestedRoles: ['conference_coordinator'],
    colorTheme: 'blue',
    enabled: true,
    sortOrder: 4,
  },
  
  // ═══════════════════════════════════════════════════════════════════
  // 其他
  // ═══════════════════════════════════════════════════════════════════
  'other.general': {
    typeCode: 'other.general',
    displayName: '通用服务',
    shortName: '通用',
    description: '未明确分类的通用服务',
    icon: 'Box',
    category: 'other',
    defaultAiRole: 'general_assistant',
    aiPromptHints: ['我是通用服务助手'],
    defaultPricingModelType: 'fixed',
    defaultDeliveryModelType: 'one_time',
    suggestedTags: ['服务'],
    suggestedRoles: ['general_specialist'],
    colorTheme: 'gray',
    enabled: true,
    sortOrder: 1,
  },
  
  'other.custom': {
    typeCode: 'other.custom',
    displayName: '自定义服务',
    shortName: '自定义',
    description: '用户自定义的服务类型',
    icon: 'Settings',
    category: 'other',
    defaultAiRole: 'general_assistant',
    aiPromptHints: ['我是服务助手，可以帮助处理各类服务需求'],
    defaultPricingModelType: 'fixed',
    defaultDeliveryModelType: 'one_time',
    suggestedTags: ['自定义'],
    suggestedRoles: ['general_specialist'],
    colorTheme: 'neutral',
    enabled: true,
    sortOrder: 99,
  },
};
```

---

## 四、AI 角色映射

### 4.1 角色定义

```typescript
/**
 * AI 角色定义
 */
export interface AiRole {
  roleId: string;
  displayName: string;
  description: string;
  
  // 系统提示
  systemPrompt: string;
  
  // 能力
  capabilities: string[];
  
  // 工具白名单
  allowedTools: string[];
  
  // 适用服务类型
  serviceTypes: ServiceType[];
}

/**
 * AI 角色注册表
 */
export const AI_ROLES: Record<string, AiRole> = {
  design_expert: {
    roleId: 'design_expert',
    displayName: '设计专家',
    description: '擅长视觉创意、平面设计、品牌设计的 AI 角色',
    systemPrompt: `你是一位资深的视觉设计专家，擅长：
- 平面设计、品牌视觉、插画创作
- 设计需求分析与方案规划
- 设计规范与交付标准
请帮助用户解决设计相关的问题，提供专业建议。`,
    capabilities: [
      '分析设计需求',
      '提供创意方向',
      '规划设计方案',
      '审查设计成果',
    ],
    allowedTools: [
      'svc.service.get',
      'svc.delivery.track',
      'project.phase.get',
      'artifact.list',
    ],
    serviceTypes: ['creative.visual', 'creative.branding'],
  },
  
  strategy_consultant: {
    roleId: 'strategy_consultant',
    displayName: '战略咨询专家',
    description: '擅长企业战略、发展规划的 AI 角色',
    systemPrompt: `你是一位资深的战略咨询专家，擅长：
- 企业战略规划与发展路径设计
- 市场环境分析与竞争策略
- 战略落地与执行管理
请帮助用户解决战略规划相关的问题，提供专业建议。`,
    capabilities: [
      '分析市场环境',
      '制定发展战略',
      '规划实施路径',
      '评估执行效果',
    ],
    allowedTools: [
      'svc.service.get',
      'svc.delivery.track',
      'project.phase.get',
      'artifact.list',
      'crm.customer.get',
    ],
    serviceTypes: ['consulting.strategy', 'consulting.management'],
  },
  
  tech_expert: {
    roleId: 'tech_expert',
    displayName: '技术专家',
    description: '擅长技术开发、系统架构的 AI 角色',
    systemPrompt: `你是一位资深的技术专家，擅长：
- 应用开发与系统架构设计
- 技术方案评估与选型
- 开发流程管理与质量保证
请帮助用户解决技术开发相关的问题，提供专业建议。`,
    capabilities: [
      '评估技术方案',
      '规划开发计划',
      '审查代码质量',
      '解决技术问题',
    ],
    allowedTools: [
      'svc.service.get',
      'svc.delivery.track',
      'project.phase.get',
      'project.task.list',
      'artifact.list',
    ],
    serviceTypes: ['tech.development', 'tech.implementation'],
  },
  
  content_expert: {
    roleId: 'content_expert',
    displayName: '内容专家',
    description: '擅长文案撰写、内容策略的 AI 角色',
    systemPrompt: `你是一位资深的内容创作专家，擅长：
- 各类商业文案撰写
- 内容策略与规划
- 品牌故事与卖点提炼
请帮助用户解决内容创作相关的问题，提供专业建议。`,
    capabilities: [
      '撰写商业文案',
      '提炼品牌故事',
      '规划内容策略',
      '审核内容质量',
    ],
    allowedTools: [
      'svc.service.get',
      'svc.delivery.track',
      'artifact.list',
      'artifact.create',
    ],
    serviceTypes: ['content.copywriting', 'content.editing'],
  },
  
  general_assistant: {
    roleId: 'general_assistant',
    displayName: '通用助手',
    description: '通用型 AI 角色，可处理各类服务需求',
    systemPrompt: `你是一位专业的服务助手，可以帮助用户：
- 了解服务内容与流程
- 跟踪项目进度
- 解答常见问题
请根据用户的具体需求提供帮助。`,
    capabilities: [
      '解答服务问题',
      '跟踪项目进度',
      '提供通用建议',
    ],
    allowedTools: [
      'svc.service.list',
      'svc.service.get',
      'project.list',
      'project.get',
    ],
    serviceTypes: ['other.general', 'other.custom'],
  },
};
```

### 4.2 角色选择逻辑

```typescript
/**
 * 根据服务类型选择 AI 角色
 */
export function selectAiRole(serviceType: ServiceType): AiRole {
  // 1. 从元数据获取默认角色
  const metadata = SERVICE_TYPE_METADATA[serviceType];
  const defaultRoleId = metadata?.defaultAiRole || 'general_assistant';
  
  // 2. 返回角色定义
  return AI_ROLES[defaultRoleId] || AI_ROLES.general_assistant;
}

/**
 * 根据服务实例选择 AI 角色（支持覆盖）
 */
export function selectAiRoleForService(service: Service): AiRole {
  // 1. 检查服务是否指定了角色覆盖
  if (service.config.aiRoleOverride) {
    const overrideRole = AI_ROLES[service.config.aiRoleOverride];
    if (overrideRole) {
      return overrideRole;
    }
  }
  
  // 2. 使用服务类型默认角色
  return selectAiRole(service.serviceType);
}
```

---

## 五、工具函数

### 5.1 类型查询

```typescript
/**
 * 获取服务类型元数据
 */
export function getServiceTypeMetadata(typeCode: ServiceType): ServiceTypeMetadata | undefined {
  return SERVICE_TYPE_METADATA[typeCode];
}

/**
 * 获取分类下的所有服务类型
 */
export function getServiceTypesByCategory(category: ServiceCategory): ServiceTypeMetadata[] {
  return Object.values(SERVICE_TYPE_METADATA)
    .filter(meta => meta.category === category && meta.enabled)
    .sort((a, b) => a.sortOrder - b.sortOrder);
}

/**
 * 获取所有启用的服务类型
 */
export function getAllServiceTypes(): ServiceTypeMetadata[] {
  return Object.values(SERVICE_TYPE_METADATA)
    .filter(meta => meta.enabled)
    .sort((a, b) => {
      const catA = SERVICE_CATEGORIES[a.category]?.sortOrder || 99;
      const catB = SERVICE_CATEGORIES[b.category]?.sortOrder || 99;
      if (catA !== catB) return catA - catB;
      return a.sortOrder - b.sortOrder;
    });
}

/**
 * 搜索服务类型
 */
export function searchServiceTypes(keyword: string): ServiceTypeMetadata[] {
  const lowerKeyword = keyword.toLowerCase();
  return getAllServiceTypes().filter(meta =>
    meta.displayName.toLowerCase().includes(lowerKeyword) ||
    meta.shortName.toLowerCase().includes(lowerKeyword) ||
    meta.description.toLowerCase().includes(lowerKeyword) ||
    meta.suggestedTags.some(tag => tag.toLowerCase().includes(lowerKeyword))
  );
}
```

### 5.2 UI 辅助

```typescript
/**
 * 获取服务类型图标
 */
export function getServiceTypeIcon(typeCode: ServiceType): string {
  return SERVICE_TYPE_METADATA[typeCode]?.icon || 'Box';
}

/**
 * 获取服务类型颜色主题
 */
export function getServiceTypeColorTheme(typeCode: ServiceType): string {
  return SERVICE_TYPE_METADATA[typeCode]?.colorTheme || 'gray';
}

/**
 * 获取服务类型展示名称
 */
export function getServiceTypeDisplayName(typeCode: ServiceType): string {
  return SERVICE_TYPE_METADATA[typeCode]?.displayName || typeCode;
}
```

---

## 版本历史

| 版本 | 日期 | 变更 |
|------|------|------|
| v1.0 | 2025-12-28 | 初始版本 |

---

**相关文档**：
- [服务抽象模型](./服务抽象模型.md)
- [服务流程模板](./服务流程模板.md)
- [总体架构设计](../architecture/总体架构设计.md)

